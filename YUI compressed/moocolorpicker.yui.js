var MooColorPicker=new Class({Implements:[Options,Events],options:{colors:[],defaultColor:-1,className:"moocolorcheckbox",selectedClassName:"moocolorcheckbox_selected"},initialize:function(a,b){var c=this;this.setOptions(b);this.container=$(a);this.container.setStyle("overflow","hidden");this.draw();if(this.options.defaultColor>=0){this.selectColor(this.options.colors[this.options.defaultColor])}return this},addColor:function(a){if(!a){return this}this.options.colors.include(a);this.draw();return this.draw()},removeColor:function(a){if(!a){return this}this.options.colors.erase(a);return this.draw()},selectColor:function(a){if(!a){return this}var b=this;this.selectedColor=a;this.container.getElements("div").each(function(c){if(c.getStyle("background-color").toUpperCase()==a.toUpperCase()){b.fireEvent("change",[a,c]);c.addClass(b.options.selectedClassName)}else{c.removeClass(b.options.selectedClassName)}});return this},getCurrentColor:function(){return this.selectedColor},getContainer:function(){return this.container},draw:function(){var a=this;this.container.empty();this.options.colors.each(function(b,c){var d=new Element("div",{"class":a.options.className});d.set("html","&nbsp;");d.setStyles({"float":"left","background-color":b,cursor:"pointer"}).addEvents({click:function(){a.selectColor(b)},mouseenter:function(){a.fireEvent("mouseenter",[d])},mouseleave:function(){a.fireEvent("mouseleave",[d])}}).inject(a.container)});return this}});